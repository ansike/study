<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>sin</title>
    <style>
        html,
        body {
          padding: 0;
          margin: 0;
          width: 100%;
          height: 100%;
          font-size: 0;
        }
    </style>
</head>
<body></body>
<script>
    let canvas = document.createElement('canvas');
    let width = canvas.width = document.body.clientWidth;
    let height = canvas.height = document.body.clientHeight;
    document.body.appendChild(canvas);
    let ctx = canvas.getContext('2d');
    let begin = 0;
    // let 
    let draw = () => {
        ctx.beginPath();
        ctx.strokeStyle="black"
        ctx.moveTo(0,height/2);
        begin -= 0.05;
        for (var x = 0; x < width; x+=1) {
            // let @ = x/width*Math.PI*2;
            const radians = x / width * Math.PI * 2 //弧度
            const scale = (Math.sin(radians - Math.PI / 2 ) + 1) //* 0.5
            y = Math.sin(radians + begin) * (height / 4) * scale + height/2
            ctx.lineTo(x,y);
            // console.log(x,y)
        }
        
        ctx.stroke();
        ctx.closePath();
    }
    
    let run = (callback) => {
        requestAnimationFrame(()=>{
            run(callback);
        })
        callback()
    }
    run(()=>{
        ctx.clearRect(0,0,canvas.width,canvas.height)
        draw();
    })
</script>
</html>