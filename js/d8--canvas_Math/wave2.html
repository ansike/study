<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>sin</title>
    <style>
        html,
        body {
          padding: 0;
          margin: 0;
          width: 100%;
          height: 100%;
          font-size: 0;
        }
    </style>
</head>
<body></body>
<script>
    let canvas = document.createElement('canvas');
    let width = canvas.width = document.body.clientWidth;
    let height = canvas.height = document.body.clientHeight;
    document.body.appendChild(canvas);
    let ctx = canvas.getContext('2d');
    // let begin = 0;
    // let 
    
    const gradients = ['#23cbe0e3', '#23cbe0cc', '#23cbe091', '#23cbe054'];
    const speed = [0.1,0.3,0.6,0.9];
    let waves = [];
    class Wave {
        constructor(canvas, options){
            this.canvas = canvas;
            this.options= options;
            this.begin = this.options.offset;
        }
        draw() {
            ctx.beginPath();
            ctx.fillStyle=this.options.strokeStyle
            
            ctx.moveTo(0,height/2);
            for (var x = 0; x < width; x+=1) {
                const radians = x / width * Math.PI * 2 //弧度
                const scale = (Math.sin(radians - Math.PI / 2 ) + 1) * 0.5
                let y = Math.sin(radians*2 + this.begin) * (height / 16) * scale * this.options.amplitude + height/2
                ctx.lineTo(x,y);
            }
            ctx.lineTo(width,height);
            ctx.lineTo(0,height);
            this.begin -= this.options.speed;
            ctx.fill();
            ctx.closePath();
            // ctx.stroke();
        }
    }
    let run = (callback) => {
        requestAnimationFrame(()=>{
            run(callback);
        })
        callback()
    }

    for(let i = 0;i < 4; i++){
        waves.push(new Wave(canvas,{
            strokeStyle: gradients[i],
            amplitude: Math.random(),
            speed:Math.random()*0.05,
            offset:Math.random()*100
        }))
    }
console.log(waves)
    run(()=>{
        ctx.clearRect(0,0,canvas.width,canvas.height)
        waves.forEach((obj)=>{
            // setTimeout(()=>{
                obj.draw()

            // },100)
        })
    })
</script>
</html>